{"remainingRequest":"/Users/isaac/Documents/workSpace/statistics-web/node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!/Users/isaac/Documents/workSpace/statistics-web/src/components/addDrugs.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"/Users/isaac/Documents/workSpace/statistics-web/src/components/addDrugs.vue","mtime":1627640335745},{"path":"/Users/isaac/Documents/workSpace/statistics-web/node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/isaac/Documents/workSpace/statistics-web/node_modules/_vue-loader@15.9.6@vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/isaac/Documents/workSpace/statistics-web/node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/isaac/Documents/workSpace/statistics-web/node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/isaac/Documents/workSpace/statistics-web/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/isaac/Documents/workSpace/statistics-web/node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKI2FkZGRvY3RvcnsKICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgLmVsLWZvcm0taXRlbV9fY29udGVudHtkaXNwbGF5OiBpbmxpbmUtYmxvY2t9CiAgLnNob3dPdXR7CiAgICBwYWRkaW5nOiAyMHB4OwogICAgLmRvY2xpc3R7CiAgICAgIG1hcmdpbi1yaWdodDogMTBweDsKICAgICAgdmVydGljYWwtYWxpZ246IHRvcDsKICAgICAgcGFkZGluZzogNXB4IDE1cHg7CiAgICAgIGJhY2tncm91bmQtY29sb3I6ICM5OTk5OTk7CiAgICAgIGNvbG9yOiAjZjJmMmYyOwogICAgICBmb250LXNpemU6IDE0cHg7CiAgICAgIGJvcmRlci1yYWRpdXM6IDVweDsKICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogICAgICBtYXJnaW4tYm90dG9tOiAxMHB4OwogICAgICBpe2N1cnNvcjogcG9pbnRlcn0KICAgICAgaTpob3Zlcntjb2xvcjogI2FiNGQ0ZDt9CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["addDrugs.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"addDrugs.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div id=\"adddoctor\">\n    <el-button @click=\"addFromOpen = true\" type=\"success\" round>添加药品</el-button>\n    <el-button @click=\"showAllDoctor\" type=\"success\" round>查看药品</el-button>\n\n    <el-dialog title=\"增加药品\" :visible.sync=\"addFromOpen\">\n      <el-form ref=\"addform\" :rules=\"addRules\" :model=\"addFrom\">\n        <el-form-item prop=\"doctorName\" label=\"药品名称 : \">\n          <el-input v-model=\"addFrom.doctorName\" placeholder=\"请输入药品姓名\"></el-input>\n        </el-form-item>\n        <el-form-item prop=\"doctorPingying\" label=\"药品拼音 : \">\n          <el-input v-model=\"addFrom.doctorPingying\" placeholder=\"请输入首字母缩写\"></el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button size=\"small\" @click=\"addFromOpen = false\">取 消</el-button>\n        <el-button size=\"small\"  type=\"success\" @click=\"addDoctor\">确 定</el-button>\n      </div>\n    </el-dialog>\n\n    <el-dialog title=\"查看药品\" :visible.sync=\"showAllDoctorOpen\">\n      <div class=\"showOut\">\n        <span class=\"doclist\" v-for=\"node in doctorList\" :key=\"node.id\">{{node.name+' - '+node.pingying}} <i class=\"el-icon-delete\" @click=\"deleteDoctor(node)\"></i></span>\n      </div>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button size=\"small\"  type=\"success\" @click=\"showAllDoctorOpen = false\">关 闭</el-button>\n      </div>\n    </el-dialog>\n\n\n  </div>\n</template>\n\n<script>\nimport {addDrugs,showAllDrugs,deleteDrugs} from '../api/mainApi'\nexport default {\n  name: \"addDoctor\",\n  data(){\n    return{\n      addFromOpen:false,\n      addFrom:{\n        doctorName:'',\n        doctorPingying:''\n      },\n      showAllDoctorOpen:false,\n      doctorList:[],\n      addRules: {\n        doctorName: [\n          {\n            required: true,\n            message: \"请输入药品名称\",\n            trigger: \"blur\"\n          }\n        ],\n        doctorPingying: [\n          {\n            required: true,\n            message: \"请输入药品首字母缩写\",\n            trigger: \"blur\"\n          }\n        ]\n      },\n    }\n  },\n  methods:{\n    //添加药品\n    async addDoctor(){\n      this.$refs.addform.validate(async valid => {\n        if (valid) {\n          const loading = this.$loading({\n            lock: true,\n            text: 'Loading',\n            spinner: 'el-icon-loading',\n            background: 'rgba(0, 0, 0, 0.7)'\n          });\n          const data = await addDrugs({\n            doctorName:this.addFrom.doctorName,\n            doctorPingying:this.addFrom.doctorPingying\n          })\n          if (data.data.code === 200) {\n            this.$message.success(data.data.msg);\n          }else{\n            this.addFrom.doctorName = '',\n            this.addFrom.doctorPingying = '',\n            this.$message.error(data.data.msg);\n          }\n          loading.close();\n        }\n      })\n    },\n    //查看全部药品\n    async showAllDoctor(){\n      this.showAllDoctorOpen = true\n      const data = await showAllDrugs()\n      if (data.data.code === 200) {\n        this.doctorList = data.data.result;\n      }\n    },\n    //删除药品\n    async deleteDoctor(node){\n      this.$confirm('此操作将永久删除, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(async () => {\n        const data = await deleteDrugs({\n          doctorName:node.name,\n          doctorPingying:node.pingying\n        })\n        if (data.data.code === 200) {\n          this.$message.success(data.data.msg);\n          this.doctorList = data.data.result;\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n#adddoctor{\n  display: inline-block;\n  .el-form-item__content{display: inline-block}\n  .showOut{\n    padding: 20px;\n    .doclist{\n      margin-right: 10px;\n      vertical-align: top;\n      padding: 5px 15px;\n      background-color: #999999;\n      color: #f2f2f2;\n      font-size: 14px;\n      border-radius: 5px;\n      display: inline-block;\n      margin-bottom: 10px;\n      i{cursor: pointer}\n      i:hover{color: #ab4d4d;}\n    }\n  }\n}\n</style>"]}]}
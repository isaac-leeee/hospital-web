{"remainingRequest":"/Users/isaac/Documents/workSpace/hospital-web/node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!/Users/isaac/Documents/workSpace/hospital-web/src/components/addDoctor.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/isaac/Documents/workSpace/hospital-web/src/components/addDoctor.vue","mtime":1627640335730},{"path":"/Users/isaac/Documents/workSpace/hospital-web/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/isaac/Documents/workSpace/hospital-web/node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/isaac/Documents/workSpace/hospital-web/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/isaac/Documents/workSpace/hospital-web/node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7YWRkRG9jdG9yLCBzaG93QWxsRG9jdG9yLCBkZWxldGVEb2N0b3J9IGZyb20gJy4uL2FwaS9tYWluQXBpJwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogImFkZERvY3RvciIsCiAgZGF0YSgpewogICAgcmV0dXJuewogICAgICBhZGRGcm9tT3BlbjpmYWxzZSwKICAgICAgYWRkRnJvbTp7CiAgICAgICAgZG9jdG9yTmFtZTonJywKICAgICAgICBkb2N0b3JQaW5neWluZzonJwogICAgICB9LAogICAgICBzaG93QWxsRG9jdG9yT3BlbjpmYWxzZSwKICAgICAgZG9jdG9yTGlzdDpbXSwKICAgICAgYWRkUnVsZXM6IHsKICAgICAgICBkb2N0b3JOYW1lOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgICBtZXNzYWdlOiAi6K+36L6T5YWl5Yy755Sf5aeT5ZCNIiwKICAgICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgICB9CiAgICAgICAgXSwKICAgICAgICBkb2N0b3JQaW5neWluZzogWwogICAgICAgICAgewogICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpeWMu+eUn+Wnk+WQjemmluWtl+avjee8qeWGmSIsCiAgICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgICAgfQogICAgICAgIF0KICAgICAgfSwKICAgIH0KICB9LAogIG1ldGhvZHM6ewogICAgLy/mt7vliqDljLvnlJ8KICAgIGFzeW5jIGFkZERvY3RvcigpewogICAgICB0aGlzLiRyZWZzLmFkZGZvcm0udmFsaWRhdGUoYXN5bmMgdmFsaWQgPT4gewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgY29uc3QgbG9hZGluZyA9IHRoaXMuJGxvYWRpbmcoewogICAgICAgICAgICBsb2NrOiB0cnVlLAogICAgICAgICAgICB0ZXh0OiAnTG9hZGluZycsCiAgICAgICAgICAgIHNwaW5uZXI6ICdlbC1pY29uLWxvYWRpbmcnLAogICAgICAgICAgICBiYWNrZ3JvdW5kOiAncmdiYSgwLCAwLCAwLCAwLjcpJwogICAgICAgICAgfSk7CiAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgYWRkRG9jdG9yKHsKICAgICAgICAgICAgZG9jdG9yTmFtZTp0aGlzLmFkZEZyb20uZG9jdG9yTmFtZSwKICAgICAgICAgICAgZG9jdG9yUGluZ3lpbmc6dGhpcy5hZGRGcm9tLmRvY3RvclBpbmd5aW5nCiAgICAgICAgICB9KQogICAgICAgICAgaWYgKGRhdGEuZGF0YS5jb2RlID09PSAyMDApIHsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKGRhdGEuZGF0YS5tc2cpOwogICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgIHRoaXMuYWRkRnJvbS5kb2N0b3JOYW1lID0gJycsCiAgICAgICAgICAgICAgICB0aGlzLmFkZEZyb20uZG9jdG9yUGluZ3lpbmcgPSAnJywKICAgICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoZGF0YS5kYXRhLm1zZyk7CiAgICAgICAgICB9CiAgICAgICAgICBsb2FkaW5nLmNsb3NlKCk7CiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIC8v5p+l55yL5YWo6YOo5Yy755SfCiAgICBhc3luYyBzaG93QWxsRG9jdG9yKCl7CiAgICAgIHRoaXMuc2hvd0FsbERvY3Rvck9wZW4gPSB0cnVlCiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBzaG93QWxsRG9jdG9yKCkKICAgICAgaWYgKGRhdGEuZGF0YS5jb2RlID09PSAyMDApIHsKICAgICAgICB0aGlzLmRvY3Rvckxpc3QgPSBkYXRhLmRhdGEucmVzdWx0OwogICAgICB9CiAgICB9LAogICAgLy/liKDpmaTljLvnlJ8KICAgIGFzeW5jIGRlbGV0ZURvY3Rvcihub2RlKXsKICAgICAgdGhpcy4kY29uZmlybSgn5q2k5pON5L2c5bCG5rC45LmF5Yig6ZmkLCDmmK/lkKbnu6fnu60/JywgJ+aPkOekuicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oYXN5bmMgKCkgPT4gewogICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCBkZWxldGVEb2N0b3IoewogICAgICAgICAgZG9jdG9yTmFtZTpub2RlLm5hbWUsCiAgICAgICAgICBkb2N0b3JQaW5neWluZzpub2RlLnBpbmd5aW5nCiAgICAgICAgfSkKICAgICAgICBpZiAoZGF0YS5kYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKGRhdGEuZGF0YS5tc2cpOwogICAgICAgICAgdGhpcy5kb2N0b3JMaXN0ID0gZGF0YS5kYXRhLnJlc3VsdDsKICAgICAgICB9CiAgICAgIH0pCiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["addDoctor.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"addDoctor.vue","sourceRoot":"src/components","sourcesContent":["<template>\n <div id=\"adddoctor\">\n   <el-button @click=\"addFromOpen = true\" type=\"success\" round>添加医生</el-button>\n   <el-button @click=\"showAllDoctor\" type=\"success\" round>查看医生</el-button>\n\n   <el-dialog title=\"增加医生\" :visible.sync=\"addFromOpen\">\n     <el-form ref=\"addform\" :rules=\"addRules\" :model=\"addFrom\">\n       <el-form-item prop=\"doctorName\" label=\"医生名字 : \">\n         <el-input v-model=\"addFrom.doctorName\" placeholder=\"请输入医生姓名\"></el-input>\n       </el-form-item>\n       <el-form-item prop=\"doctorPingying\" label=\"医生拼音 : \">\n         <el-input v-model=\"addFrom.doctorPingying\" placeholder=\"请输入首字母缩写\"></el-input>\n       </el-form-item>\n     </el-form>\n     <div slot=\"footer\" class=\"dialog-footer\">\n       <el-button size=\"small\" @click=\"addFromOpen = false\">取 消</el-button>\n       <el-button size=\"small\"  type=\"success\" @click=\"addDoctor\">确 定</el-button>\n     </div>\n   </el-dialog>\n\n   <el-dialog title=\"查看医生\" :visible.sync=\"showAllDoctorOpen\">\n     <div class=\"showOut\">\n       <span class=\"doclist\" v-for=\"node in doctorList\" :key=\"node.id\">{{node.name+' - '+node.pingying}} <i class=\"el-icon-delete\" @click=\"deleteDoctor(node)\"></i></span>\n     </div>\n     <div slot=\"footer\" class=\"dialog-footer\">\n       <el-button size=\"small\"  type=\"success\" @click=\"showAllDoctorOpen = false\">关 闭</el-button>\n     </div>\n   </el-dialog>\n\n\n </div>\n</template>\n\n<script>\nimport {addDoctor, showAllDoctor, deleteDoctor} from '../api/mainApi'\nexport default {\n  name: \"addDoctor\",\n  data(){\n    return{\n      addFromOpen:false,\n      addFrom:{\n        doctorName:'',\n        doctorPingying:''\n      },\n      showAllDoctorOpen:false,\n      doctorList:[],\n      addRules: {\n        doctorName: [\n          {\n            required: true,\n            message: \"请输入医生姓名\",\n            trigger: \"blur\"\n          }\n        ],\n        doctorPingying: [\n          {\n            required: true,\n            message: \"请输入医生姓名首字母缩写\",\n            trigger: \"blur\"\n          }\n        ]\n      },\n    }\n  },\n  methods:{\n    //添加医生\n    async addDoctor(){\n      this.$refs.addform.validate(async valid => {\n        if (valid) {\n          const loading = this.$loading({\n            lock: true,\n            text: 'Loading',\n            spinner: 'el-icon-loading',\n            background: 'rgba(0, 0, 0, 0.7)'\n          });\n          const data = await addDoctor({\n            doctorName:this.addFrom.doctorName,\n            doctorPingying:this.addFrom.doctorPingying\n          })\n          if (data.data.code === 200) {\n            this.$message.success(data.data.msg);\n          }else{\n            this.addFrom.doctorName = '',\n                this.addFrom.doctorPingying = '',\n                this.$message.error(data.data.msg);\n          }\n          loading.close();\n        }\n      })\n    },\n    //查看全部医生\n    async showAllDoctor(){\n      this.showAllDoctorOpen = true\n      const data = await showAllDoctor()\n      if (data.data.code === 200) {\n        this.doctorList = data.data.result;\n      }\n    },\n    //删除医生\n    async deleteDoctor(node){\n      this.$confirm('此操作将永久删除, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(async () => {\n        const data = await deleteDoctor({\n          doctorName:node.name,\n          doctorPingying:node.pingying\n        })\n        if (data.data.code === 200) {\n          this.$message.success(data.data.msg);\n          this.doctorList = data.data.result;\n        }\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n  #adddoctor{\n    display: inline-block;\n    margin-right: 10px;\n    .el-form-item__content{display: inline-block}\n    .showOut{\n      padding: 20px;\n      .doclist{\n        margin-right: 10px;\n        vertical-align: top;\n        padding: 5px 15px;\n        background-color: #999999;\n        color: #f2f2f2;\n        font-size: 14px;\n        border-radius: 5px;\n        display: inline-block;\n        margin-bottom: 10px;\n        i{cursor: pointer}\n        i:hover{color: #ab4d4d;}\n      }\n    }\n  }\n</style>"]}]}
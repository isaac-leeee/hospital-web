{"remainingRequest":"/Users/isaac/Documents/workSpace/statistics-web/node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js??vue-loader-options!/Users/isaac/Documents/workSpace/statistics-web/src/views/mainPage/main.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"/Users/isaac/Documents/workSpace/statistics-web/src/views/mainPage/main.vue","mtime":1627476488000},{"path":"/Users/isaac/Documents/workSpace/statistics-web/node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/isaac/Documents/workSpace/statistics-web/node_modules/_vue-loader@15.9.6@vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/isaac/Documents/workSpace/statistics-web/node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/isaac/Documents/workSpace/statistics-web/node_modules/_sass-loader@8.0.2@sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/isaac/Documents/workSpace/statistics-web/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/isaac/Documents/workSpace/statistics-web/node_modules/_vue-loader@15.9.6@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKI21haW57CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAxMDB2aDsKICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoIi4uLy4uL2Fzc2V0cy9pbWcvbWFpbmJnLmpwZWciKTsKICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBjZW50ZXI7CiAgYmFja2dyb3VuZC1zaXplOiAxMDAlOwogIC5lbC1pbnB1dF9faW5uZXJ7d2lkdGg6IDQwMHB4O30KICAuZHJ1Z251bXsKICAgIHBhZGRpbmc6IDVweCAxMHB4OwogICAgYmFja2dyb3VuZC1jb2xvcjogI2YyZjJmMjsKICAgIGNvbG9yOiAjOTk5OTk5OwogICAgZm9udC1zaXplOiAxNnB4OwogICAgYm9yZGVyLXJhZGl1czogM3B4OwogICAgbWFyZ2luLXJpZ2h0OiA4cHg7CiAgICBjdXJzb3I6IHBvaW50ZXI7CiAgfQogIC5kcnVnbnVtOmhvdmVyewogICAgY29sb3I6ICNmZmZmZmY7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDJiOTgzOwogIH0KICAuZHJ1Z251bWFjdGl2ZXsKICAgIGNvbG9yOiAjZmZmZmZmOwogICAgYmFja2dyb3VuZC1jb2xvcjogIzQyYjk4MzsKICB9CgogIC5hYmNvdXR7CiAgICBwYWRkaW5nOiAyMHB4OwogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgbWluLWhlaWdodDogODBweDsKICAgIHdpZHRoOiA4MCU7CiAgICBtYXJnaW46IDAgYXV0bzsKICAgIC5sZXR0ZXJvdXR7CiAgICAgIHZlcnRpY2FsLWFsaWduOiBib3R0b207CiAgICAgIGNvbG9yOiAjZmZmZmZmOwogICAgICBmb250LXNpemU6IDM2cHg7CiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgICAgd2lkdGg6IDgwcHg7CiAgICAgIGhlaWdodDogODBweDsKICAgICAgbGluZS1oZWlnaHQ6IDgwcHg7CiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgIH0KICAgIC5sZXR0ZXJvdXQ6aG92ZXJ7CiAgICAgIGZvbnQtc2l6ZTogNjJweDsKICAgICAgY29sb3I6ICM0MmI5ODM7CiAgICB9CiAgICAuYWN0aXZlTGV0dGVyewogICAgICBmb250LXNpemU6IDYycHg7CiAgICAgIGNvbG9yOiAjNDJiOTgzOwogICAgfQogIH0KICAuZG9jdG9yb3V0ewogICAgcGFkZGluZzogMjBweDsKICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmZmZmY7CiAgICBib3JkZXItcmFkaXVzOiAyMHB4OwogICAgbWluLWhlaWdodDogNDAwcHg7CiAgICBtYXgtaGVpZ2h0OiA2MDBweDsKICAgIG92ZXJmbG93OiBhdXRvOwogICAgd2lkdGg6IDgwJTsKICAgIG1hcmdpbjogMCBhdXRvOwogICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgLm51bGxwYWdlewogICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICB9CiAgICAuZG9jdG9ybGlzdHsKICAgICAgd2lkdGg6IDE3N3B4OwogICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgaGVpZ2h0OiA1MHB4OwogICAgICBwYWRkaW5nOiAwIDEwcHg7CiAgICAgIGZvbnQtc2l6ZTogMjhweDsKICAgICAgbGluZS1oZWlnaHQ6IDUwcHg7CiAgICAgIGJhY2tncm91bmQtY29sb3I6ICNjY2NjY2M7CiAgICAgIGNvbG9yOiAjOTk5OTk5OwogICAgICBib3JkZXItcmFkaXVzOiA1cHg7CiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jazsKICAgICAgdmVydGljYWwtYWxpZ246IHRvcDsKICAgICAgbWFyZ2luLXJpZ2h0OiAyMHB4OwogICAgICBtYXJnaW4tdG9wOiAyMHB4OwogICAgfQogICAgLmRvY3Rvcmxpc3Q6aG92ZXJ7CiAgICAgIGJhY2tncm91bmQtY29sb3I6ICM0MmI5ODM7CiAgICAgIGNvbG9yOiAjZmZmZmZmOwogICAgfQogIH0KICAuYWRkb3B0aW9uewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgYm90dG9tOiAyMHB4OwogICAgbGVmdDogMyU7CiAgICAuc3RzdHNidG57bWFyZ2luLXJpZ2h0OiAxMHB4fQogIH0KfQo="},{"version":3,"sources":["main.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.vue","sourceRoot":"src/views/mainPage","sourcesContent":["<template>\n  <div id=\"main\">\n    <div class=\"abcout\">\n      <span class=\"letterout\" :class=\"{'activeLetter':node == activeLetter}\" @click=\"findDoctor(node)\" v-for=\"node in doctorList\" :key=\"node.id\">{{node}}</span>\n    </div>\n\n    <div class=\"doctorout\">\n      <div class=\"doctorlist\" v-for=\"node in findDoctorList\" :key=\"node.name\" @click=\"openAddStatistics(node)\">\n        <span>{{node.name}}</span>\n        <i class=\"el-icon-s-help\"></i>\n      </div>\n      <div class=\"nullpage\" v-show=\"findDoctorList.length === 0\"><img src=\"../../assets/img/null.png\" alt=\"\"></div>\n      <loding v-show=\"showLoding\"></loding>\n    </div>\n\n    <div class=\"addoption\">\n      <el-button @click=\"toStatsPage\" class=\"ststsbtn\" type=\"success\" round>查看统计</el-button>\n      <addDoctor></addDoctor>\n      <addDrugs></addDrugs>\n    </div>\n\n    <el-dialog title=\"增加药品\" :visible.sync=\"doctorOpen\">\n      <el-form :model=\"drugForm\">\n        <el-form-item label=\"当前医生 : \">\n          <span class=\"nowdoctor\">{{touchDoctorNode.name}}</span>\n        </el-form-item>\n        <el-form-item label=\"药品名称 : \">\n          <el-autocomplete\n              popper-class=\"drugin\"\n              class=\"inline-input drugin\"\n              v-model=\"drugForm.drugname\"\n              :trigger-on-focus=\"false\"\n              :fetch-suggestions=\"querySearch\"\n              placeholder=\"请输入药品首字母缩写\"\n              @select=\"handleSelect\"\n          ></el-autocomplete>\n        </el-form-item>\n        <el-form-item label=\"药品数量 : \">\n          <span class=\"drugnum\" @click=\"drugnumActive = node\" :class=\"{'drugnumactive':node == drugnumActive}\" v-for=\"node in drugnumList\" :key=\"node.id\">{{node}}</span>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button size=\"small\" @click=\"doctorOpen = false\">取 消</el-button>\n        <el-button size=\"small\"  type=\"success\" @click=\"submitDrugs\">确 定</el-button>\n      </div>\n    </el-dialog>\n\n  </div>\n</template>\n\n<script>\nimport addDoctor from \"../../components/addDoctor\";\nimport addDrugs from \"../../components/addDrugs\";\nimport loding from \"../../components/loding\"\nimport { findDoctor,findDrugs,submitDrugs } from '../../api/mainApi'\nexport default {\n  name: \"main\",\n  data(){\n    return{\n      doctorList:['A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z'],\n      drugnumList:[1,2,3,4,5,6,7,8,9,10,11,12],\n      activeName: '1',\n      activeLetter:'',\n      drugnumActive:1,//添加的药品数量\n      doctorOpen:false,\n      nowDoctor:'李春秋',\n      showLoding:false,\n      drugForm:{\n        drugname:''\n      },\n      restaurants: [],\n      findDoctorList:[],\n      allAnotherDrugs:[],\n      touchDoctorNode:'',\n      touchDrugsNode:'',\n    }\n  },\n  components:{addDoctor,addDrugs,loding},\n  methods:{\n    //通过首字母查询医生列表\n    async findDoctor(node){\n      this.showLoding = true\n      this.activeLetter = node;\n      const data = await findDoctor({doctorPingying:node})\n      if (data.data.code === 200){\n        this.findDoctorList = data.data.result;\n      }else {\n        this.$message.error(data.data.msg)\n      }\n      this.showLoding = false;\n    },\n    async openAddStatistics(node){\n      this.doctorOpen = true;\n      this.touchDoctorNode = node;\n    },\n    //药品的联想模糊搜索\n    async querySearch(queryString, cb) {\n      const data = await findDrugs({drugsPingying:queryString})\n      if (data.data.code === 200){\n        this.allAnotherDrugs = data.data.result.map((x) => {\n          return {\n            id:x.id,\n            value: x.name,\n            address: x.pingying,\n          };\n        });\n        // 调用 callback 返回建议列表的数据\n        cb(this.allAnotherDrugs);\n      }else {\n        this.$message.error(data.data.msg)\n      }\n    },\n    //选中的药品\n    handleSelect(item) {\n      this.touchDrugsNode = item;\n    },\n    //提交医生所开具的药品\n    async submitDrugs(){\n      const loading = this.$loading({\n        lock: true,\n        text: 'Loading',\n        spinner: 'el-icon-loading',\n        background: 'rgba(0, 0, 0, 0.7)'\n      });\n      if (this.drugForm.drugname == '') {\n        this.$message.error('请先填写药品')\n        return\n      }\n      const data = await submitDrugs({\n        userId:1,\n        doctorId:this.touchDoctorNode.id,\n        drugsId:this.touchDrugsNode.id,\n        num:this.drugnumActive,\n        drugsName:this.touchDrugsNode.value,\n      })\n      if (data.data.code === 200){\n        this.doctorOpen = false;\n        this.drugForm.drugname = '';\n        this.$message.success(data.data.msg)\n      }else {\n        this.$message.error(data.data.msg)\n      }\n      loading.close();\n    },\n    //跳转到我到统计页面\n    toStatsPage(){\n      this.$router.push('/stats')\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n  #main{\n    width: 100%;\n    height: 100vh;\n    background-image: url(\"../../assets/img/mainbg.jpeg\");\n    background-position: center;\n    background-size: 100%;\n    .el-input__inner{width: 400px;}\n    .drugnum{\n      padding: 5px 10px;\n      background-color: #f2f2f2;\n      color: #999999;\n      font-size: 16px;\n      border-radius: 3px;\n      margin-right: 8px;\n      cursor: pointer;\n    }\n    .drugnum:hover{\n      color: #ffffff;\n      background-color: #42b983;\n    }\n    .drugnumactive{\n      color: #ffffff;\n      background-color: #42b983;\n    }\n\n    .abcout{\n      padding: 20px;\n      text-align: center;\n      min-height: 80px;\n      width: 80%;\n      margin: 0 auto;\n      .letterout{\n        vertical-align: bottom;\n        color: #ffffff;\n        font-size: 36px;\n        font-weight: bold;\n        cursor: pointer;\n        display: inline-block;\n        width: 80px;\n        height: 80px;\n        line-height: 80px;\n        text-align: center;\n      }\n      .letterout:hover{\n        font-size: 62px;\n        color: #42b983;\n      }\n      .activeLetter{\n        font-size: 62px;\n        color: #42b983;\n      }\n    }\n    .doctorout{\n      padding: 20px;\n      background-color: #ffffff;\n      border-radius: 20px;\n      min-height: 400px;\n      max-height: 600px;\n      overflow: auto;\n      width: 80%;\n      margin: 0 auto;\n      position: relative;\n      .nullpage{\n        text-align: center;\n      }\n      .doctorlist{\n        width: 177px;\n        text-align: center;\n        cursor: pointer;\n        height: 50px;\n        padding: 0 10px;\n        font-size: 28px;\n        line-height: 50px;\n        background-color: #cccccc;\n        color: #999999;\n        border-radius: 5px;\n        display: inline-block;\n        vertical-align: top;\n        margin-right: 20px;\n        margin-top: 20px;\n      }\n      .doctorlist:hover{\n        background-color: #42b983;\n        color: #ffffff;\n      }\n    }\n    .addoption{\n      position: absolute;\n      bottom: 20px;\n      left: 3%;\n      .ststsbtn{margin-right: 10px}\n    }\n  }\n</style>"]}]}